<!DOCTYPE html>
<html>
<head>
<title>Winamp ESP32 File Manager</title>
<style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #121212; color: #E0E0E0; margin: 0; padding: 20px; }
    .container { max-width: 800px; margin: auto; background-color: #1E1E1E; border: 1px solid #333; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
    .header { background-color: #2A2A2A; color: #FFF; padding: 10px 15px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; }
    .header h1 { margin: 0; font-size: 1.2em; }
    .sd-info { padding: 5px 15px; background-color: #252525; font-size: 0.8em; }
    .file-list { padding: 15px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { text-align: left; padding: 8px; border-bottom: 1px solid #2A2A2A; }
    th { background-color: #252525; }
    a { color: #87CEEB; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .action-links a { color: #FF6347; margin-left: 10px; }
    .forms-container { display: flex; justify-content: space-between; padding: 15px; background-color: #252525; border-top: 1px solid #333; }
    .upload-form, .mkdir-form { flex-basis: 48%; }
    input[type=file], input[type=submit], input[type=text] { background-color: #333; color: #E0E0E0; border: 1px solid #555; padding: 8px; width: calc(100% - 18px); }
    input[type=submit] { cursor: pointer; width: 100%; }
    .path-bar { padding: 5px 15px; background-color: #2A2A2A; font-size: 0.9em; }
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>Winamp ESP32 File Manager</h1>
    </div>
    <div class="sd-info">%%SD_INFO%%</div>
    <div class="path-bar">Current Path: %%PATH%%</div>
    <div class="file-list">
        <table>
            <tr><th>Name</th><th>Size</th><th>Actions</th></tr>
            %%FILE_LIST%%
        </table>
    </div>
    <div class="forms-container">
        <div class="upload-form">
            <form id="upload-form" action="/upload" method="post" enctype="multipart/form-data">
                <input type="hidden" name="path" value="%%PATH%%">
                <input type="file" name="upload" multiple>
                <input type="submit" value="Upload">
            </form>
            <div id="upload-status" style="display: none; color: #87CEEB; margin-top: 10px;">Uploading, please wait...</div>
        </div>
        <div class="mkdir-form">
            <form action="/mkdir" method="get">
                <input type="hidden" name="path" value="%%PATH%%">
                <input type="text" name="dirname" placeholder="New folder name">
                <input type="submit" value="Create Folder">
            </form>
        </div>
    </div>
</div>
<script>
    document.getElementById('upload-form').addEventListener('submit', function() {
        document.getElementById('upload-status').style.display = 'block';
        this.querySelector('input[type=submit]').disabled = true;
    });
</script>
</body>
</html>
